#       __  __                 __                __
#      / / / /_  ______  _____/ /___ _____  ____/ /
#     / /_/ / / / / __ \/ ___/ / __ `/ __ \/ __  / 
#    / __  / /_/ / /_/ / /  / / /_/ / / / / /_/ /  
#   /_/ /_/\__, / .___/_/  /_/\__,_/_/ /_/\__,_/   
#         /____/_/           _____                 
#         / ____/___  ____  / __(_)___ _           
#        / /   / __ \/ __ \/ /_/ / __ `/           
#       / /___/ /_/ / / / / __/ / /_/ /            
#       \____/\____/_/ /_/_/ /_/\__, /             
#                              /____/              
#                              
#
#                 By Siddharth Singh
# -------------------------------------------------------------------------------------------------


# -------------------------------------------------------------------------------------------------
# Monitor Setup
# -------------------------------------------------------------------------------------------------

monitor=eDP-1, 1920x1080, 0x0, 1
workspace=eDP-1, 1

# -------------------------------------------------------------------------------------------------
# Autostart
# -------------------------------------------------------------------------------------------------

exec-once = waybar
exec-once = swww init
exec-once = ~/.config/scripts/update-wallpaper.sh
exec-once = dunst
# exec-once = ~/dotfiles/hypr/gtk.sh
# exec-once = ~/dotfiles/scripts/autolock.sh &

# -------------------------------------------------------------------------------------------------
# NVIDIA Environment Variables
# -------------------------------------------------------------------------------------------------

env = LIBVA_DRIVER_NAME, nvidia
env = XDG_SESSION_TYPE, wayland
env = __GLX_VENDOR_LIBRARY_NAME, nvidia
env = WLR_NO_HARDWARE_CURSORS, 1
# env = GBM_BACKEND, nvidia-drm
# env = WLR_RENDERER_ALLOW_SOFTWARE, 1
# env = WLR_DRM_DEVICES, /dev/dri/card0:/dev/dri/card1

# -------------------------------------------------------------------------------------------------
# General Environment Variables
# -------------------------------------------------------------------------------------------------

env = XCURSOR_SIZE,24

# -------------------------------------------------------------------------------------------------
# Keyboard layout and mouse
# -------------------------------------------------------------------------------------------------

input {
  kb_layout = us
  kb_variant =
  kb_model =
  kb_options = caps:escape
  kb_rules =
  follow_mouse = 1
  touchpad {
    natural_scroll = true
  }
  sensitivity = 0
}

# -------------------------------------------------------------------------------------------------
# General window layout and colors
# -------------------------------------------------------------------------------------------------

general {
  gaps_in = 10
  gaps_out = 14
  border_size = 3
  col.active_border = 0xffb4befe
  col.inactive_border = 0xfff38ba8
  layout = dwindle
}

# -------------------------------------------------------------------------------------------------
# General window decoration
# -------------------------------------------------------------------------------------------------

decoration {
  rounding = 10
  blur {
    enabled = true
    size = 6
    passes = 2
    new_optimizations = on
    ignore_opacity = true
    xray = true
    }
  active_opacity = 1.0
  inactive_opacity = 0.8
  fullscreen_opacity = 1.0
  
  drop_shadow = true
  shadow_range = 30
  shadow_render_power = 3
  col.shadow = 0x66000000
}

# -------------------------------------------------------------------------------------------------
# Animations
# -------------------------------------------------------------------------------------------------

animations {
  enabled = true
  bezier = myBezier, 0.05, 0.9, 0.1, 1.05
  animation = windows, 1, 7, myBezier
  animation = windowsOut, 1, 7, default, popin 80%
  animation = border, 1, 10, default
  animation = borderangle, 1, 8, default
  animation = fade, 1, 7, default
  animation = workspaces, 1, 6, default
}

# -------------------------------------------------------------------------------------------------
# Layouts
# -------------------------------------------------------------------------------------------------

dwindle {
  pseudotile = true
  preserve_split = true
}

master {
  new_is_master = true
}

gestures {
  workspace_swipe = false
}

device:epic-mouse-v1 {
  sensitivity = -0.5
} 

# -------------------------------------------------------------------------------------------------
# Key bindings
# -------------------------------------------------------------------------------------------------

$mainMod = ALT

# -------------------------------------------------------------------------------------------------
# Main Keybindings
# -------------------------------------------------------------------------------------------------

bind = $mainMod, T, exec, alacritty
bind = $mainMod, R, exec, wofi --show drun
bind = $mainMod, Q, killactive
bind = $mainMod, M, exit
bind = $mainMod, F, fullscreen
bind = $mainMod, E, exec, thunar
bind = $mainMod, B, exec, firefox
bind = $mainMod, S, togglesplit
bind = $mainMod, H, movefocus, l
bind = $mainMod, L, movefocus, r

# -------------------------------------------------------------------------------------------------
# Special Keybindings
# -------------------------------------------------------------------------------------------------

bind = $mainMod SHIFT, Q, exec, wlogout
bind = $mainMod, W, exec, ~/.config/scripts/update-wallpaper.sh


# -------------------------------------------------------------------------------------------------
# Go To Specific Workspace
# -------------------------------------------------------------------------------------------------

bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, workspace, 10


# -------------------------------------------------------------------------------------------------
# Sent Focused Window To Specific Workspace
# -------------------------------------------------------------------------------------------------

bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5
bind = $mainMod SHIFT, 6, movetoworkspace, 6
bind = $mainMod SHIFT, 7, movetoworkspace, 7
bind = $mainMod SHIFT, 8, movetoworkspace, 8
bind = $mainMod SHIFT, 9, movetoworkspace, 9
bind = $mainMod SHIFT, 0, movetoworkspace, 10

# -------------------------------------------------------------------------------------------------
# Moving And Resizing Window Using Mouse
# -------------------------------------------------------------------------------------------------

bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow

# -------------------------------------------------------------------------------------------------
# Audio Keys Binding With Function Keys
# -------------------------------------------------------------------------------------------------

binde =, XF86AudioMute, exec, ~/.config/scripts/volume-control.sh toggle
binde =, XF86AudioRaiseVolume, exec, ~/.config/scripts/volume-control.sh increase
binde =, XF86AudioLowerVolume, exec, ~/.config/scripts/volume-control.sh decrease

# -------------------------------------------------------------------------------------------------
# Brightness Keys Binding With Function Keys
# -------------------------------------------------------------------------------------------------

binde =, XF86MonBrightnessUp, exec, ~/.config/scripts/brightness-control.sh increase
binde =, XF86MonBrightnessDown, exec, ~/.config/scripts/brightness-control.sh decrease

# -------------------------------------------------------------------------------------------------
# Misc settings
# -------------------------------------------------------------------------------------------------

misc {
  disable_hyprland_logo = true
  disable_splash_rendering = true
}
